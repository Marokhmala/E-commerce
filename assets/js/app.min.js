const burgerMenu=document.querySelector('.burger-menu')
const mobileNav=document.querySelector('#mobile-nav')
let showingMobileNav=!1
let cart=[]
function loadCart(){const savedCart=localStorage.getItem('cartItems');if(savedCart){cart=JSON.parse(savedCart)}}
function saveCart(){localStorage.setItem('cartItems',JSON.stringify(cart))}
loadCart();burgerMenu.addEventListener('click',()=>{if(showingMobileNav){mobileNav.style.display='none'
showingMobileNav=!1}else{mobileNav.style.display='block'
showingMobileNav=!0}})
const targetDate=new Date("2025-10-14T00:00:00").getTime();const daysSpan=document.querySelector(".time:nth-child(1) span");const hoursSpan=document.querySelector(".time:nth-child(2) span");const minutesSpan=document.querySelector(".time:nth-child(3) span");const secondsSpan=document.getElementById("seconds-counter");function updateCountdown(){const now=new Date().getTime();const distance=targetDate-now;if(distance<0){daysSpan.textContent="00";hoursSpan.textContent="00";minutesSpan.textContent="00";secondsSpan.textContent="00";clearInterval(interval);return}
const days=Math.floor(distance/(1000*60*60*24));const hours=Math.floor((distance%(1000*60*60*24))/(1000*60*60));const minutes=Math.floor((distance%(1000*60*60))/(1000*60));const seconds=Math.floor((distance%(1000*60))/1000);daysSpan.textContent=days.toString().padStart(2,"0");hoursSpan.textContent=hours.toString().padStart(2,"0");minutesSpan.textContent=minutes.toString().padStart(2,"0");secondsSpan.textContent=seconds.toString().padStart(2,"0")}
const interval=setInterval(updateCountdown,1000);updateCountdown();const productsWrapper=document.querySelector('.products-wrapper');document.addEventListener("DOMContentLoaded",()=>{fetch('https://dummyjson.com/products').then(res=>res.json()).then(data=>{const products=data.products.slice(0,8);renderFlashSaleProducts(products)}).catch(err=>{console.error('Error fetching products:',err)})});function renderFlashSaleProducts(products){productsWrapper.innerHTML='';products.forEach(product=>{const discount=Math.floor(Math.random()*50)+10;const card=document.createElement('div');card.className='card';const cardHeader=document.createElement('div');cardHeader.className='card-header relative flex justify-center align-center';const discountDiv=document.createElement('div');discountDiv.className='discount';discountDiv.textContent=`-${discount}%`;const wishlistDiv=document.createElement('div');wishlistDiv.className='wishlist flex justify-center align-center';wishlistDiv.innerHTML=`
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M8 5C5.7912 5 4 6.73964 4 8.88594C4 10.6185 4.7 14.7305 11.5904 18.8873C11.7138 18.961 11.8555 19 12 19C12.1445 19 12.2862 18.961 12.4096 18.8873C19.3 14.7305 20 10.6185 20 8.88594C20 6.73964 18.2088 5 16 5C13.7912 5 12 7.35511 12 7.35511C12 7.35511 10.2088 5 8 5Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `;const quickViewDiv=document.createElement('div');quickViewDiv.className='quick-view flex justify-center align-center';quickViewDiv.innerHTML=`
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M21.257 10.962C21.731 11.582 21.731 12.419 21.257 13.038C19.764 14.987 16.182 19 12 19C7.81801 19 4.23601 14.987 2.74301 13.038C2.51239 12.7411 2.38721 12.3759 2.38721 12C2.38721 11.6241 2.51239 11.2589 2.74301 10.962C4.23601 9.013 7.81801 5 12 5C16.182 5 19.764 9.013 21.257 10.962V10.962Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    `;const productImg=document.createElement('img');productImg.src=product.thumbnail;productImg.alt=product.title;cardHeader.append(discountDiv,wishlistDiv,quickViewDiv,productImg);const cardBody=document.createElement('div');cardBody.className='card-body';const title=document.createElement('h3');title.textContent=product.title;const pricesDiv=document.createElement('div');pricesDiv.className='prices flex align-center g-12';const currentPrice=document.createElement('div');currentPrice.className='current-price';const discountedPrice=(product.price*(1-discount/100)).toFixed(2);currentPrice.textContent=`$${discountedPrice}`;const oldPrice=document.createElement('div');oldPrice.className='old-price';oldPrice.textContent=`$${product.price}`;pricesDiv.append(currentPrice,oldPrice);const reviewsWrapper=document.createElement('div');reviewsWrapper.className='reviews-wrapper flex align-center g-8';const ratingStars=document.createElement('div');ratingStars.className='rating-stars';const ratingCount=document.createElement('div');ratingCount.className='rating-count';ratingCount.textContent=`(${product.rating})`;for(let i=0;i<5;i++){const star=document.createElementNS("http://www.w3.org/2000/svg","svg");star.setAttribute("width","16");star.setAttribute("height","15");star.setAttribute("viewBox","0 0 16 15");star.setAttribute("fill","none");const path=document.createElementNS("http://www.w3.org/2000/svg","path");path.setAttribute("d","M14.673 7.17173C15.7437 6.36184 15.1709 4.65517 13.8284 4.65517H11.3992C10.7853 4.65517 10.243 4.25521 10.0617 3.66868L9.33754 1.32637C8.9309 0.0110567 7.0691 0.0110564 6.66246 1.32637L5.93832 3.66868C5.75699 4.25521 5.21469 4.65517 4.60078 4.65517H2.12961C0.791419 4.65517 0.215919 6.35274 1.27822 7.16654L3.39469 8.78792C3.85885 9.1435 4.05314 9.75008 3.88196 10.3092L3.11296 12.8207C2.71416 14.1232 4.22167 15.1704 5.30301 14.342L7.14861 12.9281C7.65097 12.5432 8.34903 12.5432 8.85139 12.9281L10.6807 14.3295C11.7636 15.159 13.2725 14.1079 12.8696 12.8046L12.09 10.2827C11.9159 9.71975 12.113 9.10809 12.5829 8.75263L14.673 7.17173Z");path.setAttribute("fill","#FFAD33");star.appendChild(path);ratingStars.appendChild(star)}
reviewsWrapper.append(ratingStars,ratingCount);const addToCartBtn=document.createElement('button');addToCartBtn.className='add-to-cart';const isInCart=cart.includes(product.id);addToCartBtn.textContent=isInCart?'Added':'Add to Cart';addToCartBtn.addEventListener('click',()=>{if(!cart.includes(product.id)){cart.push(product.id);saveCart();addToCartBtn.textContent='Added';addToCartBtn.disabled=!0;console.log('Product added to cart. Cart IDs:',cart);updateProductCount();showCartMessage(`${product.title} added to cart!`)}});if(isInCart){addToCartBtn.disabled=!0}
cardHeader.append(addToCartBtn)
cardBody.append(title,pricesDiv,reviewsWrapper);card.append(cardHeader,cardBody);productsWrapper.appendChild(card);productsWrapper.style.height='auto';document.body.style.height='auto'})}
function showCartMessage(message){const messageDiv=document.createElement('div');messageDiv.textContent=message;messageDiv.style.cssText=`
    position: fixed;
    top: 20px;
    right: 20px;
    background: #4CAF50;
    color: white;
    padding: 12px 20px;
    border-radius: 4px;
    z-index: 1000;
    font-size: 14px;
  `;document.body.appendChild(messageDiv);setTimeout(()=>{document.body.removeChild(messageDiv)},2000)}
function updateProductCount(){const products=JSON.parse(localStorage.getItem('cartItems'))||[];const countSpan=document.querySelector('.products-count');countSpan.textContent=products.length}
updateProductCount()